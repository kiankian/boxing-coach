# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a boxing coaching demo that uses computer vision and AI to analyze boxing punches from video. The project demonstrates a viral concept that combines OpenCV for pose detection with Gemini AI for punch analysis and feedback.

## Core Architecture

The project consists of three main components:

1. **box.json**: Contains punch analysis data generated by Gemini AI, including timestamps, punch quality, feedback, and running statistics
2. **box.py**: OpenCV-based video processor that overlays punch statistics and feedback onto boxing video footage
3. **punching.mp4**: Source video file for processing

## Key Components

### Punch Analysis Data Structure
- Each punch includes: timestamp, result (landed), punch type, bag zone, running totals, and coaching feedback
- Statistics track total good/bad punches separately
- Feedback provides specific coaching advice for punch technique

### Video Processing Pipeline
- Uses MediaPipe for pose detection to track player head position
- Processes video at reduced framerate (3 fps) for efficiency
- Overlays real-time statistics and coaching feedback
- Implements color animations (green for good punches, red for bad punches)
- Outputs final processed video with all overlays

## Dependencies

The Python script requires:
- opencv-python (cv2)
- mediapipe
- numpy
- json
- datetime
- textwrap
- time

## File Structure

- `box.json` - Punch analysis data (generated by Gemini AI)
- `box.py` - Main video processing script
- `punching.mp4` - Source video file
- `final.mp4` - Processed output video
- `gemini_analyze.py` - AI analysis script for generating punch data
- `requirements.txt` - Python dependencies
- `README.md` - Project documentation and context
- `unused/` - Directory containing old basketball coaching files (ball.py, ball.json)

## Development Notes

- Video processing uses dual video inputs (one for processing, one for display)
- Pose detection focuses on head tracking for player identification
- Text rendering includes border effects for better visibility
- Animation system provides visual feedback for shot outcomes
- Current implementation is a proof-of-concept for real-time boxing coaching

## Future Development Directions

Based on the README, to make this production-ready:
1. Implement smart frame sampling for Gemini Video API (1 FPS limitation)
2. Integrate with Gemini API for real-time analysis
3. Build rendering pipeline for live feedback
4. Consider mobile app development for boxing training
5. Expand punch type recognition and form analysis
6. Add support for multiple camera angles